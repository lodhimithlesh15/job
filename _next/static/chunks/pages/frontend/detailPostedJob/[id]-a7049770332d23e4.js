(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{293:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/frontend/detailPostedJob/[id]",function(){return n(36946)}])},57562:function(e,t,n){"use strict";n.d(t,{EQ:function(){return change_application_status},LE:function(){return get_all_applications},Li:function(){return post_job},MP:function(){return get_application_details},Oz:function(){return apply_job},TW:function(){return get_job},rb:function(){return get_my_applied_job},uL:function(){return get_specified_job},vn:function(){return get_my_posted_job}});var o=n(31955);let post_job=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/postAJob"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.Z.get("token"))},body:JSON.stringify(e)}),n=t.json();return n}catch(e){console.log("error in post job (service) => ",e)}},get_job=async()=>{try{let e=await fetch("".concat("http://localhost:3000","/api/job/getAllJobs"),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),t=e.json();return t}catch(e){console.log("error in getting job (service) => ",e)}},get_specified_job=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/getSpecifiedJob?id=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),n=t.json();return n}catch(e){console.log("error in getting  specified job (service) => ",e)}},apply_job=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/applyJob"),{method:"POST",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))},body:e}),n=await t.json();return n}catch(e){console.log("error in apply job (service) => ",e)}},get_my_applied_job=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/getAppliedJobs?id=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),n=t.json();return n}catch(e){console.log("error in getting  getting my all job (service) => ",e)}},get_my_posted_job=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/getPostedJobs?id=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),n=t.json();return n}catch(e){console.log("error in   getting my all job (service) => ",e)}},get_all_applications=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/getAllApplicationsOfSpecifiedJob?id=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),n=t.json();return n}catch(e){console.log("error in   getting my all application of specified jobs (service) => ",e)}},change_application_status=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/responseOfApplication"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o.Z.get("token"))},body:JSON.stringify(e)}),n=t.json();return n}catch(e){console.log("error in   getting my all application of specified jobs (service) => ",e)}},get_application_details=async e=>{try{let t=await fetch("".concat("http://localhost:3000","/api/job/getApplicationDetail?id=").concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(o.Z.get("token"))}}),n=t.json();return n}catch(e){console.log("error in   getting my all application of specified jobs (service) => ",e)}}},94076:function(e,t,n){"use strict";n.d(t,{Z:function(){return NavBar}});var o=n(85893),a=n(67294),r=n(41664),s=n.n(r),i=n(9473),l=n(47516),c=n(31955),d=n(11163),u=n(2585),h=n(55502),p=n(8193);function NavBar(){let e=(0,i.I0)(),[t,n]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e((0,h.M)(localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null))},[e]);let r=(0,d.useRouter)(),x=(0,i.v9)(e=>e.User.userData),[m,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>(window.addEventListener("scroll",()=>{window.scrollY>20?b(!0):b(!1)}),()=>{window.removeEventListener("scroll",()=>{window.scrollY>20?b(!0):b(!1)})}),[g]);let handleLogout=async()=>{c.Z.remove("token"),localStorage.removeItem("user"),r.reload()},j=(e=>{let t=a.useRef();return a.useEffect(()=>{let handleClick=n=>{t.current&&!t.current.contains(n.target)&&e()};return document.addEventListener("click",handleClick,!0),()=>{document.removeEventListener("click",handleClick,!0)}},[t]),t})(()=>{f(!1)});return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"w-full ".concat(g?"bg-indigo-600/70":"bg-indigo-600"," px-6 h-20 bg-indigo-600 text-white flex items-center justify-between fixed top-0 left-0 z-50"),children:[(0,o.jsx)("div",{className:"px-2 h-full flex items-center justify-center",children:(0,o.jsx)("p",{className:"uppercase font-semibold tracking-widest text-lg",children:"JOB-PORTAL"})}),(0,o.jsxs)("div",{className:"px-2 h-full hidden items-center justify-center lg:flex",children:[(0,o.jsx)(s(),{href:"/",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Home"}),(0,o.jsx)(s(),{href:"/frontend/postAJob",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Post Jobs"}),(0,o.jsx)(s(),{href:"/frontend/displayJobs",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"View Jobs"}),(0,o.jsx)(s(),{href:"/frontend/postedJob",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Posted Jobs"}),(0,o.jsx)(s(),{href:"/frontend/dashboard",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Dashboard"}),(0,o.jsx)(s(),{href:"/",className:"px-3 mx-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Contact"})]}),(0,o.jsx)("div",{className:"px-2 h-full hidden items-center justify-center lg:flex ",children:null!==x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.XqV,{onClick:handleLogout,className:" cursor-pointer text-3xl hover:text-red-500 transition-all duration-700"}),(0,o.jsx)("p",{className:"text-lg px-4 font-semibold",children:null==x?void 0:x.name})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{href:"/auth/login",className:"px-4 py-2 border border-white rounded uppercase tracking-widest mx-4   transition-all duration-700 hover:bg-white font-semibold text-base hover:text-indigo-600",children:"Login"}),(0,o.jsx)(s(),{href:"/auth/register",className:"px-4 py-2 border border-white rounded uppercase tracking-widest mx-4   text-indigo-600 bg-white transition-all duration-700 hover:bg-transparent font-semibold text-base hover:text-white",children:"REGISTER"})]})}),(0,o.jsx)("div",{className:"flex lg:hidden  px-2 py-2 ",children:(0,o.jsx)(u.vHB,{className:"text-4xl",onClick:()=>f(e=>!e)})}),m&&(0,o.jsxs)("div",{ref:j,className:"flex w-full py-2 animate-fade-in-down  bg-indigo-600 transition-all fade duration-1000 absolute top-20 left-0  items-center justify-center flex-col ",children:[(0,o.jsxs)("div",{className:"px-2 h-full flex items-center justify-center flex-col py-2 ",children:[(0,o.jsx)(s(),{href:"/",onClick:()=>f(!1),className:"px-3  m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Home"}),(0,o.jsxs)("button",{onClick:()=>n(e=>!e),className:"px-3  m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase flex items-center justify-center",children:["Jobs ",t?(0,o.jsx)(p.Vs3,{}):(0,o.jsx)(p.i0B,{})," "]}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{href:"/frontend/displayJobs",onClick:()=>f(!1),className:"px-3 m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"View Jobs"}),(0,o.jsx)(s(),{href:"/frontend/postAJob",onClick:()=>f(!1),className:"px-3 m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Post Jobs"}),(0,o.jsx)(s(),{href:"/frontend/postedJob",onClick:()=>f(!1),className:"px-3 m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Posted Jobs"})]}),(0,o.jsx)(s(),{href:"/frontend/dashboard",onClick:()=>f(!1),className:"px-3 m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Dashboard"}),(0,o.jsx)(s(),{href:"/",onClick:()=>f(!1),className:"px-3 m-4 text-base font-medium transition-all duration-700 hover:translate-y-2 uppercase",children:"Contact"})]}),(0,o.jsx)("div",{className:"px-2 h-full  items-center justify-center flex",children:null!==x?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(l.XqV,{onClick:handleLogout,className:" cursor-pointer text-3xl hover:text-red-500 transition-all duration-700"}),(0,o.jsx)("p",{className:"text-lg px-4 font-semibold",children:null==x?void 0:x.name})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s(),{href:"/auth/login",className:"px-4 py-2 border border-white rounded uppercase tracking-widest mx-4   transition-all duration-700 hover:bg-white font-semibold text-base hover:text-indigo-600",children:"Login"}),(0,o.jsx)(s(),{href:"/auth/register",className:"px-4 py-2 border border-white rounded uppercase tracking-widest mx-4   text-indigo-600 bg-white transition-all duration-700 hover:bg-transparent font-semibold text-base hover:text-white",children:"REGISTER"})]})})]})]})})}},36946:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return PostedJobsDetails}});var o=n(85893),a=n(57562),r=n(11163),s=n(67294),i=n(90044),l=n(22920);function ApplicationsDataTable(e){let{application:t}=e,n=(0,r.useRouter)(),[c,d]=(0,s.useState)([]);(0,s.useEffect)(()=>{d(t)},[t]);let[u,h]=(0,s.useState)(""),[p,x]=(0,s.useState)([]);(0,s.useEffect)(()=>{x(c)},[c]);let handleAcceptStatus=async e=>{let t=await (0,a.EQ)({id:e,status:"approved"});t.success?n.push("/frontend/postedJob"):l.Am.error(t.message)},handleRejectStatus=async e=>{let t=await (0,a.EQ)({id:e,status:"rejected"});t.success?n.push("/frontend/postedJob"):l.Am.error(t.message)},handleDownloadCV=async e=>{let t=document.createElement("a");t.href="/uploads/".concat(e),t.download="cv.pdf",document.body.appendChild(t),t.click(),document.body.removeChild(t)},m=[{name:"Name",selector:e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name}},{name:"Email",selector:e=>{var t;return null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.email}},{name:"Status",selector:e=>(0,o.jsx)("p",{className:"uppercase font-semibold ".concat((null==e?void 0:e.status)==="approved"?"text-green-500":"","  ").concat((null==e?void 0:e.status)==="rejected"?"text-red-600":""),children:null==e?void 0:e.status})},{name:"CV",selector:e=>(0,o.jsx)("button",{onClick:()=>handleDownloadCV(null==e?void 0:e.cv),className:" w-20 py-2 text-xs text-indigo-600 hover:text-white my-2 hover:bg-indigo-600 border border-indigo-600 rounded transition-all duration-700",children:"Download CV"})},{name:"Status",selector:e=>(0,o.jsx)("p",{className:"uppercase font-semibold ".concat((null==e?void 0:e.status)==="approved"?"text-green-500":"","  ").concat((null==e?void 0:e.status)==="rejected"?"text-red-600":""),children:null==e?void 0:e.status})},{name:"Action",cell:e=>(0,o.jsxs)("div",{className:"flex items-center justify-start w-72 h-20",children:[(0,o.jsx)("button",{onClick:()=>n.push("/frontend/applicationDetail/".concat(null==e?void 0:e._id)),className:" w-20 py-2 mx-2 text-xs text-indigo-600 hover:text-white my-2 hover:bg-indigo-600 border border-indigo-600 rounded transition-all duration-700",children:"Details"}),(0,o.jsx)("button",{onClick:()=>handleAcceptStatus(null==e?void 0:e._id),className:" w-20 py-2 mx-2 text-xs text-green-600 hover:text-white my-2 hover:bg-green-600 border border-green-600 rounded transition-all duration-700",children:"Approved"}),(0,o.jsx)("button",{onClick:()=>handleRejectStatus(null==e?void 0:e._id),className:" w-20 py-2 mx-2 text-xs text-red-600 hover:text-white my-2 hover:bg-red-600 border border-red-600 rounded transition-all duration-700",children:"Reject"})]})}];return(0,s.useEffect)(()=>{""===u?x(c):x(null==c?void 0:c.filter(e=>{var t;let n=null==e?void 0:null===(t=e.user)||void 0===t?void 0:t.name.toUpperCase(),o=u.toUpperCase();return n.indexOf(o)>-1}))},[u,c]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.ZP,{subHeaderAlign:"right",columns:m,data:p,keyField:"id",pagination:!0,title:"Total Applications : ".concat(null==c?void 0:c.length),fixedHeader:!0,fixedHeaderScrollHeight:"79%",selectableRows:!0,selectableRowsHighlight:!0,subHeader:!0,persistTableHead:!0,subHeaderComponent:(0,o.jsx)("input",{className:"w-60  py-2 px-2  outline-none  border-b-2 border-indigo-600",type:"search",value:u,onChange:e=>h(e.target.value),placeholder:"Search with Applicant  name..."}),className:"h-screen bg-white"})})}var c=n(94076),d=n(31955),u=n(55767),h=n(9473),p=n(59734);function PostedJobsDetails(){let e=(0,r.useRouter)(),[t,n]=(0,s.useState)(!0),{id:i}=e.query,x=(0,h.v9)(e=>{var t;return null==e?void 0:null===(t=e.User)||void 0===t?void 0:t.userData}),m=null==x?void 0:x._id,[f,g]=(0,s.useState)([]);(0,s.useEffect)(()=>{m&&d.Z.get("token")||e.push("/auth/login")},[x,m,d.Z]);let{data:b,error:j,isLoading:v}=(0,p.ZP)("/get-all-Application",()=>(0,a.LE)(i));return(0,s.useEffect)(()=>{b&&g(null==b?void 0:b.data)},[b]),j&&l.Am.error(j),(0,o.jsx)(o.Fragment,{children:v?(0,o.jsxs)("div",{className:"bg-gray w-full h-screen flex items-center flex-col justify-center",children:[(0,o.jsx)(u.Nx,{width:"200",color:"#4f46e5"}),(0,o.jsx)("p",{className:"text-xs uppercase",children:"Loading Resources Hold Tight..."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(c.Z,{}),(0,o.jsxs)("div",{className:"w-full  pt-20",children:[(0,o.jsx)("div",{className:"w-full h-20 bg-gray-50 text-indigo-600 font-bold flex items-center justify-center flex-col",children:(0,o.jsx)("h1",{className:"text-3xl",children:"Detail List of  Jobs Application"})}),(0,o.jsx)("div",{className:"w-full h-full px-4 py-4 flex  overflow-y-auto  items-start justify-center flex-wrap",children:(0,o.jsx)(ApplicationsDataTable,{application:f})})]})]})})}}},function(e){e.O(0,[980,617,874,949,866,734,44,774,888,179],function(){return e(e.s=293)}),_N_E=e.O()}]);